<?xml version="1.0" encoding="UTF-8"?>


<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
    
    
<mapper namespace="document">

	<!-- 시퀀스 생성 -->
	<select id="sequence" resultType="int">
		select notice_seq.nextval from dual
	</select>
	<!-- Create(등록)  -->
	<insert id="save">
		insert into document(
			document_no, project_no, document_title, document_content, document_status, 
			document_write_time, document_limit_time, document_writer, document_approver
			
		)
		values (#{documentNo}, #{projectNo}, #{documentTitle}, #{documentContent}, #{documentStatus},
				 #{documentWriteTime}, #{documentLimitTime}, #{documentWriter}, #{documentApprover})
	</insert> 
	
	
	
	<!-- Read 조회 -->
	<select id="list" resultType="DocumentDto">
		select * from document order by document_no desc
	</select>
	
	<select id="find" resultType="DocumentDto">
		select * from document where document_no = #{documentNo}
	</select>
	
	<!-- update 전체수정-->
		<update id="editAll">
		update document
		set 
			project_no = #{projectNo},
			document_title = #{documentTitle},
			document_content = #{documentContent},
			document_status = #{documentStatus}
			document_write_time = #{documentWriteTime}
			document_limit_time  = #{documentLimitTime}
			document_approver   = #{documentApprover}
			
		where document_no = #{documentNo}
	</update>
	
	<!-- Delete  -->
	<delete id="delete">
		delete document where document_no = #{documentNo}
	</delete>


</mapper>