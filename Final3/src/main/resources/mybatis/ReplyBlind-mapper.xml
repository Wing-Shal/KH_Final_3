<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="replyBlind">
    
    <!-- Create -->
    <select id="sequence" resultType="int">
        select reply_blind_seq.nextval from dual
    </select>
    <insert id="save">
        insert into reply_blind(
            reply_blind_no, reply_blind_content, reply_blind_nick, 
            reply_blind_company, reply_blind_time, reply_blind_taget,
            reply_blind_group, blind_no
        )
        values(
            #{replyBlindNo}, #{replyBlindContent}, #{replyBlindNick},
             #{replyBlindCompany}, #{replyBlindTime}, #{replyBlindTaget},
              #{replyBlindGroup}, #{blindNo}        )
    </insert>
    
    <!-- Read -->
    <select id="list" resultType="ReplyBlindDto">
        select * from reply_blind order by reply_blind_no asc
    </select>
    <select id="find" resultType="ReplyBlindDto">
        select * from reply_blind where reply_blind_no = #{replyBlindNo}
    </select>
    
    <!-- update 전체수정-->
        <update id="editAll">
        update reply_blind
        set 
            reply_blind_content = #{replyBlindContent},
            reply_blind_nick = #{replyBlindNick},
            reply_blind_company = #{replyBlindCompany}
            reply_blind_time = #{replyBlindTime}
            reply_blind_taget = #{replyBlindTaget}
            reply_blind_group = #{replyBlindGroup}
            blind_no = #{blindNo}
            
        where reply_blind_no = #{replyBlindNo}
    </update>
    
    <!-- Delete -->
    <delete id="delete">
        delete reply_blind where reply_blind_no = #{replyBlindNo}
    </delete>
        
</mapper>