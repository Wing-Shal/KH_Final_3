"use strict";(self.webpackChunkfinal3=self.webpackChunkfinal3||[]).push([[398],{6561:(e,a,s)=>{s.d(a,{A:()=>t});var l=s(579);const t=function(e){return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col",children:(0,l.jsxs)("div",{style:{backgroundColor:"#FFC0CB"},className:"p-4 text-light rounded",children:[(0,l.jsx)("h1",{children:e.title}),(0,l.jsx)("p",{children:e.content})]})})})})}},398:(e,a,s)=>{s.r(a),s.d(a,{default:()=>h});var l=s(5043),t=s(7580),c=s(184),n=s(423),r=s(2639),d=s(8839),i=s(1238),o=s(6561),m=(s(2450),s(579));const h=()=>{const[e,a]=(0,l.useState)([]),[s,h]=(0,l.useState)([]),[x,j]=(0,l.useState)([]),[p,u]=(0,l.useState)({}),[N,b]=(0,l.useState)(!1),[v,y]=(0,l.useState)({});(0,l.useEffect)((()=>{w()}),[]);const f=(0,l.useCallback)((e=>{u({...p,[e.target.name]:e.target.value})}),[p]),C=(0,l.useCallback)((()=>{u({empName:"",deptName:"",gradeName:"",empContact:"",empEmail:"",empType:""})}),[p]),g=(0,l.useCallback)((async()=>{a((e=>[...e,p])),w(),C(),O()}),[p]),k=(0,l.useCallback)((()=>{!1!==window.confirm("\uc791\uc131\uc744 \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(C(),O())}),[p]),w=(0,l.useCallback)((async()=>{const e=await t.A.get("/company/gradeList");j(e.data);const a=await t.A.get("/company/deptList");h(a.data)}),[]),F=(0,l.useCallback)((e=>{const l=e[0];if(!l)return;const t=new FileReader;t.onload=e=>{const l=new Uint8Array(e.target.result),t=i.LF(l,{type:"array"}),c=t.SheetNames[0],n=i.Wp.sheet_to_json(t.Sheets[c],{header:0,range:1}),r=["empName","deptName","gradeName","empContact","empEmail","empType"],d=n.filter((e=>r.every((a=>e.hasOwnProperty(a)))&&s.includes(e.deptName)&&x.includes(e.gradeName)));d.length===n.length?a((e=>[...e,...d])):alert("\uc5c5\ub85c\ub4dc\ud55c \ud30c\uc77c\uc758 \ub370\uc774\ud130 \ud615\uc2dd\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),console.log(d)},t.readAsArrayBuffer(l)}),[s,x]),A=(0,l.useRef)(),S=(0,l.useCallback)((()=>{const a=!N;b(a),y(e.reduce(((e,s,l)=>({...e,[l]:a})),{}))}),[N,e]),E=(0,l.useCallback)((e=>{y((a=>({...a,[e]:!a[e]})))}),[]),B=(0,l.useCallback)((async()=>{const s=e.filter(((e,a)=>v[a]));if(0===s.length)return void alert("\uc5c5\ub85c\ub4dc\ud560 \uc0ac\uc6d0\uc744 \uc120\ud0dd\ud558\uc138\uc694.");await t.A.post("/company/emp",s);const l=e.filter(((e,a)=>!v[a]));a(l),y({}),b(!1),alert("\uc0ac\uc6d0\uc774 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}),[v,e]),L=(0,l.useRef)(),T=(0,l.useCallback)((()=>{new d.aF(L.current).show()}),[L]),O=(0,l.useCallback)((()=>{d.aF.getInstance(L.current).hide()}),[L]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.A,{title:"\uc0ac\uc6d0 \ub4f1\ub85d"}),(0,m.jsx)("div",{className:"container-fluid",children:(0,m.jsx)("div",{className:"row mt-4",children:(0,m.jsxs)("div",{className:"col d-flex justify-content-end",children:[(0,m.jsxs)("button",{className:"btn btn-success my-3 me-auto",onClick:B,children:[(0,m.jsx)(n.Ffy,{}),"\uc120\ud0dd\ud55c \uc0ac\uc6d0 \uc5c5\ub85c\ub4dc"]}),(0,m.jsx)("a",{href:"".concat("http://localhost:8080","/download/").concat("81"),className:"btn btn-secondary my-3",children:"\uc591\uc2dd \ub2e4\uc6b4\ub85c\ub4dc"}),(0,m.jsxs)("button",{className:"btn btn-primary my-3",onClick:()=>{A.current.click()},children:[(0,m.jsx)(c.OiG,{}),"\uc0ac\uc6d0 \uc77c\uad04 \ub4f1\ub85d"]}),(0,m.jsx)("input",{type:"file",accept:".xlsx, .csv, .xls",style:{display:"none"},ref:A,onChange:e=>F(e.target.files)}),(0,m.jsxs)("button",{className:"btn btn-primary my-3",onClick:e=>T(),children:[(0,m.jsx)(c.OiG,{}),"\uc0ac\uc6d0 \uc9c1\uc811 \ub4f1\ub85d"]})]})})}),(0,m.jsx)("div",{className:"row mt-4",children:(0,m.jsx)("div",{className:"col",children:(0,m.jsxs)("table",{className:"table",children:[(0,m.jsx)("thead",{className:"text-center",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:(0,m.jsx)("input",{type:"checkbox",checked:N,onChange:S})}),(0,m.jsx)("th",{children:"\uc774\ub984"}),(0,m.jsx)("th",{children:"\ubd80\uc11c"}),(0,m.jsx)("th",{children:"\uc9c1\uae09"}),(0,m.jsx)("th",{children:"\uc804\ud654\ubc88\ud638"}),(0,m.jsx)("th",{children:"\uc774\uba54\uc77c"}),(0,m.jsx)("th",{children:"\uad8c\ud55c\uc5ec\ubd80"})]})}),(0,m.jsx)("tbody",{className:"text-center",children:e.map(((e,a)=>(0,m.jsxs)("tr",{className:"align-items-center",children:[(0,m.jsx)("td",{children:(0,m.jsx)("input",{type:"checkbox",checked:v[a]||!1,onChange:()=>E(a)})}),(0,m.jsx)("td",{children:e.empName}),(0,m.jsx)("td",{children:e.deptName}),(0,m.jsx)("td",{children:e.gradeName}),(0,m.jsx)("td",{children:e.empContact}),(0,m.jsx)("td",{children:e.empEmail}),(0,m.jsx)("td",{children:e.empType})]},e.empName)))})]})})}),(0,m.jsx)("div",{ref:L,className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,m.jsx)("div",{className:"modal-dialog",children:(0,m.jsxs)("div",{className:"modal-content",children:[(0,m.jsxs)("div",{className:"modal-header",children:[(0,m.jsx)("h1",{className:"modal-title fs-5",id:"staticBackdropLabel",children:"\uc0ac\uc6d0 \uc9c1\uc811 \ub4f1\ub85d"}),(0,m.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:e=>k()})]}),(0,m.jsxs)("div",{className:"modal-body",children:[(0,m.jsx)("div",{className:"row mt-4",children:(0,m.jsxs)("div",{className:"col",children:[(0,m.jsx)("label",{children:"\uc774\ub984"}),(0,m.jsx)("input",{type:"text",name:"empName",value:p.empName,onChange:e=>f(e),className:"form-control"})]})}),(0,m.jsx)("div",{className:"row mt-4",children:(0,m.jsxs)("div",{className:"col",children:[(0,m.jsx)("label",{children:"\ubd80\uc11c"}),(0,m.jsxs)("select",{name:"deptName",value:p.deptName,onChange:e=>f(e),className:"form-control",children:[(0,m.jsx)("option",{value:"",children:"\ubd80\uc11c \uc120\ud0dd"}),s.map((e=>(0,m.jsx)("option",{value:e,children:e})))]})]})}),(0,m.jsx)("div",{className:"row mt-4",children:(0,m.jsxs)("div",{className:"col",children:[(0,m.jsx)("label",{children:"\uc9c1\uae09"}),(0,m.jsxs)("select",{name:"gradeName",value:p.gradeName,onChange:e=>f(e),className:"form-control",children:[(0,m.jsx)("option",{value:"",children:"\uc9c1\uae09 \uc120\ud0dd"}),x.map((e=>(0,m.jsx)("option",{value:e,children:e})))]})]})}),(0,m.jsx)("div",{className:"row mt-4",children:(0,m.jsxs)("div",{className:"col",children:[(0,m.jsx)("label",{children:"\uc804\ud654\ubc88\ud638"}),(0,m.jsx)("input",{type:"text",name:"empContact",value:p.empContact,onChange:e=>f(e),className:"form-control"})]})}),(0,m.jsx)("div",{className:"row mt-4",children:(0,m.jsxs)("div",{className:"col",children:[(0,m.jsx)("label",{children:"\uc774\uba54\uc77c"}),(0,m.jsx)("input",{type:"text",name:"empEmail",value:p.empEmail,onChange:e=>f(e),className:"form-control"})]})}),(0,m.jsx)("div",{className:"row mt-4",children:(0,m.jsxs)("div",{className:"col",children:[(0,m.jsx)("label",{children:"\uad8c\ud55c\uc5ec\ubd80"}),(0,m.jsxs)("select",{name:"empType",value:p.empType,onChange:e=>f(e),className:"form-control",children:[(0,m.jsx)("option",{value:"",children:"\uad8c\ud55c \uc120\ud0dd"}),(0,m.jsx)("option",{value:"\uc0ac\uc6d0",children:"\uc0ac\uc6d0"}),(0,m.jsx)("option",{value:"\uc784\uc6d0",children:"\uc784\uc6d0"})]})]})})]}),(0,m.jsxs)("div",{className:"modal-footer",children:[(0,m.jsxs)("button",{className:"btn btn-danger",onClick:e=>k(),children:[(0,m.jsx)(r.r8o,{}),"\xa0 \ucde8\uc18c"]}),(0,m.jsxs)("button",{className:"btn btn-success me-2",onClick:e=>g(),children:[(0,m.jsx)(n.Ffy,{}),"\xa0 \uc800\uc7a5"]})]})]})})})]})}}}]);
//# sourceMappingURL=398.089ca9ce.chunk.js.map