"use strict";(self.webpackChunkfinal3=self.webpackChunkfinal3||[]).push([[934],{6561:(e,n,l)=>{l.d(n,{A:()=>s});var t=l(579);const s=function(e){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col",children:(0,t.jsxs)("div",{style:{backgroundColor:"#FFC0CB"},className:"p-4 text-light rounded",children:[(0,t.jsx)("h1",{children:e.title}),(0,t.jsx)("p",{children:e.content})]})})})})}},8934:(e,n,l)=>{l.r(n),l.d(n,{default:()=>y});var t=l(5043),s=l(9005),a=l(831),i=l(6561),o=l(423),r=l(7580),d=l(8839),c=l(3519),b=l(1072),x=l(8602),p=l(1319),m=l(3216),u=l(3156),h=l(9889),g=l.n(h),C=(l(3950),l(5254)),j=(l(8206),l(579));const y=function(){const{blindWriterCompany:e}=(0,m.g)(),[n,l]=(0,t.useState)([]),[h,y]=(0,a.L4)(s.g3),[N,f]=(0,t.useState)({}),[k,w]=(0,t.useState)(null),[v,B]=(0,t.useState)(""),[L,S]=(0,t.useState)([]),T=(0,t.useCallback)((async()=>{}),[v]),W=((0,t.useCallback)((()=>{T()}),[T]),(0,t.useCallback)((e=>{B(e.target.value)}),[]),e=>{z({...H,replyBlindContent:e})}),A=(0,t.useCallback)((()=>n.filter((e=>e.blindNo&&e.blindNo.toString().toLowerCase().includes(v.toLowerCase())||e.blindTitle&&"string"===typeof e.blindTitle&&e.blindTitle.toLowerCase().includes(v.toLowerCase())||e.blindContent&&"string"===typeof e.blindContent&&e.blindContent.toLowerCase().includes(v.toLowerCase())||e.blindWriterNick&&"string"===typeof e.blindWriterNick&&e.blindWriterNick.toLowerCase().includes(v.toLowerCase())))),[n,v]);(0,t.useEffect)((()=>{const e=n.filter((e=>e.blindTitle.toLowerCase().includes(v.toLowerCase())||e.blindContent.toLowerCase().includes(v.toLowerCase())));S(e)}),[n,v]),A();const[E,R]=(0,t.useState)({blindTitle:"",blindContent:"",blindWriterNick:"",blindPassword:""}),[F,D]=(0,t.useState)([]),[H,z]=(0,t.useState)({replyBlindContent:"",replyBlindNick:"",blindNo:""}),[I,M]=(0,t.useState)(1),[Y,_]=(0,t.useState)(5),[P,V]=(0,t.useState)(0),[q,G]=(0,t.useState)(!1),J=(0,t.useRef)(!1);(0,t.useEffect)((()=>{K()}),[e]);const K=(0,t.useCallback)((async()=>{const e=await r.A.get("/boardBlind/page/".concat(I,"/size/").concat(Y));l([...n,...e.data.list]),V(e.data.count),G(e.data.last)}),[h,N,l,I]);(0,t.useEffect)((()=>{J.current=!0,console.log("\ub85c\ub529 \uc2dc\uc791"),K(),J.current=!1,console.log("\ub85c\ub529 \uc885\ub8cc")}),[I]);const O=(0,t.useCallback)(g()((e=>{if(!0===J.current)return;const n=document.documentElement.scrollHeight-window.innerHeight,l=window.scrollY/n*100;console.log("last = ".concat(q," , \ud37c\uc13c\ud2b8 = ").concat(l.toFixed(2),"%")),!1===q&&l>=75&&(console.log("\ub354\ubcf4\uae30 \uc791\uc5c5\uc744 \uc2dc\uc791\ud569\ub2c8\ub2e4"),M(I+1))}),750),[I]);(0,t.useEffect)((()=>{if(!0!==J.current)return window.addEventListener("scroll",O),console.log("\uc2a4\ud06c\ub864 \uc774\ubca4\ud2b8 \uc124\uc815 \uc644\ub8cc!"),()=>{window.removeEventListener("scroll",O),console.log("\uc2a4\ud06c\ub864 \uc774\ubca4\ud2b8 \uc81c\uac70 \uc644\ub8cc!")}}),[I]);const Q=(0,t.useCallback)((e=>{R({...E,[e.target.name]:e.target.value})}),[E]),U=(0,t.useCallback)((async()=>{await r.A.post("/boardBlind/",E);K(),X(),ee()}),[E]),X=(0,t.useCallback)((()=>{R({blindTitle:"",blindContent:"",blindWriterNick:"",blindPassword:""})}),[]),Z=((0,t.useCallback)((async e=>{await r.A.put("/boardBlind/".concat(e.blindNo),E);K(),X()}),[E]),(0,t.useCallback)((()=>{X()}),[]),(0,t.useRef)()),$=(0,t.useCallback)((()=>{new d.aF(Z.current).show()}),[Z]),ee=(0,t.useCallback)((()=>{d.aF.getInstance(Z.current).hide()}),[Z]),ne=(0,t.useCallback)((()=>{X(),ee()}),[X,ee]),le=(0,t.useCallback)((e=>{const t=[...n].map((e=>!0===e.edit?{...k,edit:!1}:{...e}));w({...e});const s=t.map((n=>e.blindNo===n.blindNo?{...n,edit:!0}:{...n}));l(s)}),[n]),te=(0,t.useCallback)((e=>{const t=[...n].map((n=>e.blindNo===n.blindNo?{...k,edit:!1}:{...n}));l(t)}),[n]),se=(0,t.useCallback)(((e,t)=>{const s=[...n].map((n=>t.blindNo===n.blindNo?{...n,[e.target.name]:e.target.value}:{...n}));l(s)}),[n]),ae=(0,t.useCallback)((async e=>{await r.A.patch("/boardBlind/",e);K()}),[n]),ie=(0,t.useCallback)((async e=>{if(!1===window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))return;await r.A.delete("/boardBlind/"+e.blindNo);K()}),[n]);(0,t.useEffect)((()=>{oe()}),[]);const oe=(0,t.useCallback)((async()=>{const e=await r.A.get("/replyBlind/");D(e.data)}),[h,N]),re=(0,t.useCallback)((e=>{z({...H,[e.target.name]:e.target.value})}),[H]),de=(0,t.useCallback)((async e=>{const n={...H,blindNo:e};await r.A.post("/replyBlind/",n);oe(),ce()}),[H,oe]),ce=((0,t.useCallback)((()=>{!1!==window.confirm("\uc791\uc131\uc744 \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&ce()}),[E]),(0,t.useCallback)((()=>{z({replyBlindNick:"",replyBlindContent:""})}),[H])),be=(0,t.useCallback)((async e=>{if(!1===window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))return;await r.A.delete("/replyBlind/"+e.replyBlindNo);xe(e.replyBlindNo),K()}),[F]),xe=(0,t.useCallback)((e=>{const n=F.filter((n=>n.replyBlindNo!==e));D(n)}),[F,D]),[pe,me]=(0,t.useState)("");return(0,j.jsxs)("div",{className:"ListItem",children:[(0,j.jsx)(i.A,{title:"\ube14\ub77c\uc778\ub4dc \uac8c\uc2dc\ud310"}),(0,j.jsx)("div",{className:"row mt-4",children:(0,j.jsx)("div",{className:"col text-end",children:(0,j.jsxs)("button",{className:"btn btn-primary",onClick:$,children:[(0,j.jsx)(o.t50,{}),"\uae00\uc4f0\uae30"]})})}),(0,j.jsx)(c.A,{className:"d-flex",style:{height:"500px",backgroundSize:"cover"},fluid:!0,children:(0,j.jsx)(b.A,{xs:1,className:"g-4 mt-4",children:n.map((e=>(0,j.jsx)(x.A,{children:(0,j.jsx)(p.A,{style:{overflowY:"auto"},children:(0,j.jsxs)(p.A.Body,{style:{display:"flex",flexDirection:"column"},children:[(0,j.jsx)("div",{className:"d-flex justify-content-end mb-2",children:h===e.blindEmpNo&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("button",{className:"btn btn-warning btn-sm me-2",onClick:n=>le(e),children:(0,j.jsx)(o._HS,{})}),(0,j.jsx)("button",{className:"btn btn-danger btn-sm",onClick:n=>ie(e),children:(0,j.jsx)(u.V2x,{})})]})}),e.edit?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("input",{type:"text",className:"form-control mb-2",value:e.blindTitle,name:"blindTitle",onChange:n=>se(n,e)}),(0,j.jsx)("input",{type:"text",className:"form-control mb-2",value:e.blindContent,name:"blindContent",onChange:n=>se(n,e),style:{height:"300px",border:"1px solid rgb(210, 210, 210)",borderRadius:"10px",padding:"10px",marginBottom:"10px"}}),(0,j.jsx)("button",{className:"btn btn-success btn-sm me-2",onClick:n=>ae(e),children:"\uc800\uc7a5"}),(0,j.jsx)("button",{className:"btn btn-danger btn-sm",onClick:n=>te(e),children:"\ucde8\uc18c"})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"rounded border p-2 mb-2 shadow-sm bg-light",children:["\uc81c\ubaa9: ",e.blindTitle.toLowerCase().includes(v.toLowerCase())?(0,j.jsx)("span",{children:e.blindTitle.split(new RegExp("(".concat(v,")"),"ig")).map(((e,n)=>e.toLowerCase()===v.toLowerCase()?(0,j.jsx)("span",{style:{backgroundColor:"pink"},children:e},n):(0,j.jsx)("span",{children:e},n)))}):e.blindTitle]}),(0,j.jsx)("hr",{}),(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,j.jsx)("div",{style:{border:"0px solid rgb(210, 210, 210)",borderRadius:"10px",padding:"10px",marginBottom:"1px",flex:"1",marginRight:"10px",fontSize:"13px"},children:(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{style:{fontWeight:"bold"},children:"\uc791\uc131\uc790:"}),e.blindWriterNick?e.blindWriterNick:"\u3147\u3147"]})}),(0,j.jsx)("div",{style:{border:"0px solid rgb(210, 210, 210)",borderRadius:"10px",padding:"10px",marginBottom:"1px",flex:"1",marginRight:"10px",fontSize:"13px"},children:(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{style:{fontWeight:"bold"},children:"\ud68c\uc0ac:"})," ",e.blindWriterCompany]})}),(0,j.jsx)("div",{style:{border:"0px solid rgb(210, 210, 210)",borderRadius:"10px",padding:"10px",marginBottom:"1px",flex:"1",fontSize:"13px"},children:(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{style:{fontWeight:"bold"},children:"\uc791\uc131\uc77c:"})," ",e.blindWtime]})})]}),(0,j.jsx)("hr",{}),(0,j.jsxs)("div",{style:{minHeight:"150px",maxHeight:"450px",border:"1px solid rgb(210, 210, 210)",borderRadius:"10px",padding:"10px",marginBottom:"10px"},children:["\ub0b4\uc6a9: ",e.blindContent.toLowerCase().includes(v.toLowerCase())?(0,j.jsx)("span",{children:e.blindContent.split(new RegExp("(".concat(v,")"),"ig")).map(((e,n)=>e.toLowerCase()===v.toLowerCase()?(0,j.jsx)("span",{style:{backgroundColor:"pink"},children:e},n):(0,j.jsx)("span",{children:e},n)))}):e.blindContent]})]}),(0,j.jsx)("div",{style:{minHeight:"50px",border:"none",maxHeight:"500px",borderRadius:"10px",padding:"10px",marginBottom:"10px",overflowY:"auto"},children:F.map(((n,l)=>n.blindNo===e.blindNo?(0,j.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,j.jsxs)("div",{style:{fontWeight:"bold"},children:[n.replyBlindNick?n.replyBlindNick:"\u3147\u3147",(0,j.jsx)("span",{style:{marginLeft:"10px",fontWeight:"normal",color:"gray"},children:" | ".concat(n.replyBlindCompany," | ").concat(new Date(n.replyBlindTime).getFullYear(),"-").concat((new Date(n.replyBlindTime).getMonth()+1).toString().padStart(2,"0"),"-").concat(new Date(n.replyBlindTime).getDate().toString().padStart(2,"0")," / ").concat(new Date(n.replyBlindTime).getHours().toString().padStart(2,"0"),":").concat(new Date(n.replyBlindTime).getMinutes().toString().padStart(2,"0"))})]}),h===n.replyEmpNo&&(0,j.jsx)("button",{className:"btn btn-danger btn-sm",onClick:e=>be(n),style:{fontSize:"12px",padding:"4px 8px",transition:"background-color 0.3s, border-color 0.3s"},onMouseEnter:e=>{e.target.style.backgroundColor="#ff6666",e.target.style.borderColor="#ff6666"},onMouseLeave:e=>{e.target.style.backgroundColor="",e.target.style.borderColor=""},children:(0,j.jsx)(u.V2x,{})})]}),(0,j.jsx)("div",{children:n.replyBlindContent}),(0,j.jsx)("hr",{})]},"".concat(n.blindNo,"_").concat(n.replyBlindTime,"_").concat(l)):null))}),(0,j.jsxs)("form",{children:[(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"col-8",children:[(0,j.jsx)("label",{children:"\ub313\uae00"}),(0,j.jsx)(C.A,{value:H.replyBlindContent,onChange:W,placeholder:"\ub313\uae00\uc744 \uc785\ub825\ud558\uc138\uc694",className:"form-control"})]}),(0,j.jsxs)("div",{className:"col-4",children:[(0,j.jsx)("label",{children:"\ub2c9\ub124\uc784"}),(0,j.jsx)("input",{type:"text",name:"replyBlindNick",value:H.replyBlindNick,onChange:e=>re(e),className:"form-control",placeholder:"'\u3147\u3147' \uc73c\ub85c \uc790\ub3d9 \uc785\ub825\ub429\ub2c8\ub2e4",style:{borderRadius:"30px"}})]})]}),(0,j.jsx)("div",{className:"text-end mt-2",children:(0,j.jsx)("button",{className:"btn btn-success me-2",onClick:n=>de(e.blindNo),children:"\ub313\uae00\ub4f1\ub85d"})})]})]})})},e.blindNo)))})}),n.map((e=>(0,j.jsx)("div",{ref:Z,className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,j.jsx)("div",{className:"modal-dialog",children:(0,j.jsxs)("div",{className:"modal-content",children:[(0,j.jsxs)("div",{className:"modal-header",children:[(0,j.jsx)("h1",{className:"modal-title fs-5",id:"staticBackdropLabel",children:"\uae00\uc4f0\uae30"}),(0,j.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:e=>ne()})]}),(0,j.jsxs)("div",{className:"modal-body",children:[(0,j.jsxs)("div",{children:[(0,j.jsxs)("p",{children:["\uc0ac\uc6d0 \ubc88\ud638: ",h]}),(0,j.jsxs)("p",{children:["\ud68c\uc0ac: ",e.blindWriterCompany]})]}),(0,j.jsxs)("form",{children:[(0,j.jsx)("div",{className:"row",children:(0,j.jsxs)("div",{className:"col",children:[(0,j.jsx)("label",{children:"\uc81c\ubaa9"}),(0,j.jsx)("input",{type:"text",name:"blindTitle",value:E.blindTitle,onChange:e=>Q(e),className:"form-control"})]})}),(0,j.jsx)("div",{className:"row",children:(0,j.jsxs)("div",{className:"col",children:[(0,j.jsx)("label",{children:"\ub0b4\uc6a9"}),(0,j.jsx)("textarea",{name:"blindContent",value:E.blindContent,onChange:e=>Q(e),className:"form-control"})]})}),(0,j.jsx)("div",{className:"row",children:(0,j.jsxs)("div",{className:"col",children:[(0,j.jsx)("label",{children:"\uc791\uc131\uc790 \ub2c9\ub124\uc784"}),(0,j.jsx)("input",{type:"text",name:"blindWriterNick",value:E.blindWriterNick,onChange:e=>Q(e),className:"form-control",placeholder:"6\uae00\uc790\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4 / \uc785\ub825\uc744 \uc6d0\uce58 \uc54a\uc744 \uacbd\uc6b0 '\u3147\u3147'\uc73c\ub85c \uc790\ub3d9 \uc785\ub825"})]})})]})]}),(0,j.jsxs)("div",{className:"modal-footer",children:[(0,j.jsx)("button",{className:"btn btn-success me-2",onClick:e=>U(),children:"\ub4f1\ub85d"}),(0,j.jsx)("button",{className:"btn btn-danger",onClick:e=>ne(),children:"\ucde8\uc18c"})]})]})})},e.blindNo)))]})}}}]);
//# sourceMappingURL=934.3af07477.chunk.js.map