{"version":3,"file":"static/js/379.9477d606.chunk.js","mappings":"yQAeA,MA8aA,EA9aoBA,KAKlB,MAAOC,EAASC,IAAcC,EAAAA,EAAAA,IAAeC,EAAAA,IAEvCC,GAAcC,EAAAA,EAAAA,QAAO,OACpBC,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,KAC9BC,EAAeC,IAAoBF,EAAAA,EAAAA,UAAS,OAE5CG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,CACjCK,cAAe,GACfC,gBAAiB,GACjBC,cAAe,GACfC,YAAa,KAGTC,GAAcC,EAAAA,EAAAA,cAAaC,IAC/B,MAAM,KAAEC,EAAI,MAAEC,GAAUF,EAAEG,OAC1BV,GAAUW,IAAS,IACdA,EACH,CAACH,GAAOC,KACP,GACF,IAGGG,GAAaN,EAAAA,EAAAA,cAAY,KAC7BN,EAAS,CACPC,cAAe,GACfC,gBAAiB,GACjBC,cAAe,GACfC,YAAa,IACb,GACD,CAACL,IAGEc,GAAYP,EAAAA,EAAAA,cAAYQ,UAC5B,MAAMC,EAAQC,EAAAA,EAAMC,SAASC,QAAQC,OAAsB,cAC3D,IAAKJ,EAAO,OAEZ,GAAIhB,EAAME,cAAcmB,OAAS,GAE/B,YADAC,OAAOC,MAAM,uLAIf,GAAIvB,EAAMG,gBAAgBkB,OAAS,IAEjC,YADAC,OAAOC,MAAM,kLAKf,MAAMC,EAAiB,IAClBxB,EACHI,cAAeqB,EAAW,IAAIC,KAAK1B,EAAMI,gBACzCC,YAAaoB,EAAW,IAAIC,KAAK1B,EAAMK,qBAGtBY,EAAAA,EAAMU,KAAK,aAAcH,EAAgB,CAC1DL,QAAS,CACPS,cAAeZ,WAGba,IACNhB,IACAiB,GAAiB,GAChB,CAAC9B,KAEJ+B,EAAAA,EAAAA,YAAU,KACRF,GAAoB,GACnB,IAEH,MAAMA,GAAqBtB,EAAAA,EAAAA,cAAYQ,UACrC,MAEMiB,SAFaf,EAAAA,EAAMgB,IAAI,yBAEDC,KAAKC,KAAIC,IAAK,CACxCC,GAAID,EAAME,WAAWC,WACrBC,MAAM,GAADC,OAAKL,EAAMM,QAAO,OAAAD,OAAML,EAAMlC,eACnCyC,MAAOP,EAAMhC,cACbwC,IAAKR,EAAM/B,YACXwC,cAAe,CACbP,WAAYF,EAAME,WAClBE,MAAOJ,EAAMlC,cACbyC,MAAOP,EAAMhC,cACbwC,IAAKR,EAAM/B,YACXyC,eAAgBV,EAAMU,eACtBJ,QAASN,EAAMM,QACfK,SAAUX,EAAMW,SAChB5C,gBAAiBiC,EAAMjC,qBAG3BP,EAAUoC,EAAe,GACxB,CAACpC,IAGEoD,EAAYC,IAChBlD,EAAiBkD,EAAUb,MAAMS,eACjCK,GAAe,GAGjBnB,EAAAA,EAAAA,YAAU,KACR,MAAMoB,EAAW,IAAIC,EAAAA,GAAa3D,EAAY4D,QAAS,CACrDC,QAAS,CAACC,EAAAA,EAAeC,EAAAA,IACzBC,YAAa,eAEb9D,OAAQA,EACR+D,YAAY,EACZC,OAAQC,EACRC,WAAYb,EACZc,gBAAiB,CACfC,KAAM,UACNC,SAAU,WAMd,OAFAb,EAASc,SAEF,KACLd,EAASe,SAAS,CACnB,GACA,CAACvE,IAIJ,MAAMwE,GAAiB5D,EAAAA,EAAAA,cAAYQ,UAEjC,IAAe,IADAO,OAAO8C,QAAQ,8BACR,aAEHnD,EAAAA,EAAMoD,OAAO,aAAe1D,EAAO2B,YACtDT,IACAyC,GAAgB,GACf,CAAC3E,IAGE4E,GAAehE,EAAAA,EAAAA,cAAYQ,UAC/B,GAAIf,EAAME,cAAcmB,OAAS,GAE/B,YADAC,OAAOC,MAAM,uLAIf,GAAIvB,EAAMG,gBAAgBkB,OAAS,IAEjC,YADAC,OAAOC,MAAM,kLAIf,MAAMC,EAAiB,IAClBxB,EACHI,cAAeqB,EAAW,IAAIC,KAAK1B,EAAMI,gBACzCC,YAAaoB,EAAW,IAAIC,KAAK1B,EAAMK,qBAGtBY,EAAAA,EAAMuD,MAAM,aAAchD,SACvCK,IACNhB,IACA4D,IACA5C,GAAoB,GAGnB,CAAC7B,IAIE0E,GAAchF,EAAAA,EAAAA,UACdwD,GAAgB3C,EAAAA,EAAAA,cAAY,KAClB,IAAIoE,EAAAA,GAAMD,EAAYrB,SAC9BuB,MAAM,GACX,IAEGN,GAAiB/D,EAAAA,EAAAA,cAAY,KACnBoE,EAAAA,GAAME,YAAYH,EAAYrB,SACtCyB,MAAM,GACX,IAGGC,GAAcrF,EAAAA,EAAAA,UACdsF,GAAgBzE,EAAAA,EAAAA,cAAY,KAChC,GAAIT,EAAe,CACjBwE,IACArE,EAAS,CACPqC,WAAYxC,EAAcwC,WAC1BQ,eAAgBhD,EAAcgD,eAC9B5C,cAAeJ,EAAc0C,MAC7BrC,gBAAiBL,EAAcK,gBAC/BC,cAAeN,EAAc6C,MAC7BtC,YAAaP,EAAc8C,MAEf,IAAI+B,EAAAA,GAAMI,EAAY1B,SAC9BuB,MACR,IACC,CAAC9E,IAEE2E,GAAiBlE,EAAAA,EAAAA,cAAY,KACjC,MAAM0E,EAAQN,EAAAA,GAAME,YAAYE,EAAY1B,SAC5CxC,IACAoE,EAAMH,MAAM,GACX,IAIGI,GAAexF,EAAAA,EAAAA,UACfyF,GAAiB5E,EAAAA,EAAAA,cAAY,KACnB,IAAIoE,EAAAA,GAAMO,EAAa7B,SAC/BuB,MAAM,GACX,IAEG9C,GAAkBvB,EAAAA,EAAAA,cAAY,KAClC,MAAM0E,EAAQN,EAAAA,GAAME,YAAYK,EAAa7B,SAC7CxC,IACAoE,EAAMH,MAAM,GACX,IAEGlB,GAAarD,EAAAA,EAAAA,cAAa6E,IAC9B,MAAMC,EAAY,IAAI3D,KAAK0D,EAAWzC,OAChC2C,EAAU,IAAI5D,KAAK0D,EAAWxC,IAAM,GAE1CyC,EAAUE,SAAS,EAAG,EAAG,EAAG,GAC5BD,EAAQC,SAAS,GAAI,EAAG,EAAG,GAI3BtF,EAAS,CACPC,cAAe,GACfC,gBAAiB,GACjBC,cAAeqB,EAAW4D,GAC1BhF,YAAaoB,EAAW6D,KAI1BH,GAAgB,GACf,CAAClF,EAAUkF,IAER1D,EAAc+D,IAClB,MAAMC,EAAOD,EAAKE,cACZC,EAAQC,OAAOJ,EAAKK,WAAa,GAAGC,SAAS,EAAG,KAChDC,EAAMH,OAAOJ,EAAKQ,WAAWF,SAAS,EAAG,KACzCG,EAAQL,OAAOJ,EAAKU,YAAYJ,SAAS,EAAG,KAC5CK,EAAUP,OAAOJ,EAAKY,cAAcN,SAAS,EAAG,KACtD,MAAM,GAANrD,OAAUgD,EAAI,KAAAhD,OAAIkD,EAAK,KAAAlD,OAAIsD,EAAG,KAAAtD,OAAIwD,EAAK,KAAAxD,OAAI0D,EAAO,EAKpD,OACEE,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKC,IAAKhH,KACV+G,EAAAA,EAAAA,KAAA,OAAKC,IAAK/B,EAAagC,UAAU,aAAarE,GAAG,2BAA2B,mBAAiB,SAAS,mBAAiB,OAAOsE,SAAS,KAAK,kBAAgB,sBAAsB,cAAY,OAAMJ,UAClMC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,eAAcH,UAC3BF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,gBAAeH,SAAA,EAC5BF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,eAAcH,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,mBAAmBrE,GAAG,sBAAqBkE,SAAC,8BAC1DC,EAAAA,EAAAA,KAAA,UAAQI,KAAK,SAASF,UAAU,YAAY,aAAW,QAAQG,QAASvC,QAE1EkC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,aAAYH,SACxBzG,IACC0G,EAAAA,EAAAA,KAAA,SAAOE,UAAU,QAAOH,UACtBF,EAAAA,EAAAA,MAAA,SAAAE,SAAA,EACEF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,wBACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAKzG,EAAc4C,QAAQ,IAAE5C,EAAciD,SAAS,WAEtDsD,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,kBACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAKzG,EAAc0C,YAErB6D,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,kBACJC,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAAA,OAAKM,wBAAyB,CAAEC,QAASjH,EAAcK,iBAAmB,IAAI6G,QAAQ,MAAO,mBAGjGX,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,8BACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAKzG,EAAc6C,MAAMsE,UAAU,EAAG,UAExCZ,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,8BACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAKzG,EAAc8C,IAAIqE,UAAU,EAAG,iBAM9CT,EAAAA,EAAAA,KAAA,OAAKE,UAAU,eAAcH,SAC1BzG,GAAiBA,EAAcgD,iBAAmBzD,IACjDgH,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,UAAQE,UAAU,oBAAoBG,QAAS7B,EAAcuB,SAAC,kBAC9DC,EAAAA,EAAAA,KAAA,UAAQE,UAAU,iBAAiBG,QAASA,IAAM1C,EAAerE,GAAeyG,SAAC,8BAQ7FC,EAAAA,EAAAA,KAAA,OAAKC,IAAKvB,EAAcwB,UAAU,aAAarE,GAAG,iBAAiB,mBAAiB,SAAS,mBAAiB,OAAOsE,SAAS,KAAK,kBAAgB,sBAAsB,cAAY,OAAMJ,UACzLC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,eAAcH,UAC3BF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,gBAAeH,SAAA,EAC5BF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,eAAcH,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,mBAAmBrE,GAAG,sBAAqBkE,SAAC,8BAC1DC,EAAAA,EAAAA,KAAA,UAAQI,KAAK,SAASF,UAAU,YAAY,aAAW,QAAQG,QAAS/E,QAE1EuE,EAAAA,EAAAA,MAAA,OAAKK,UAAU,aAAYH,SAAA,EACzBC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,WAAUH,UACvBF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,MAAKH,SAAA,EAClBC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,kBACPC,EAAAA,EAAAA,KAAA,SAAOI,KAAK,OAAOnG,KAAK,gBAAgBC,MAAOV,EAAME,cAAegH,SAAU5G,EAAaoG,UAAU,uBAIzGF,EAAAA,EAAAA,KAAA,OAAKE,UAAU,WAAUH,UACvBF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,MAAKH,SAAA,EAClBC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,kBACPC,EAAAA,EAAAA,KAAA,YAAU/F,KAAK,kBAAkBC,MAAOV,EAAMG,gBAC5C+G,SAAU5G,EACVoG,UAAU,wCAIhBL,EAAAA,EAAAA,MAAA,OAAKK,UAAU,WAAUH,SAAA,EACvBF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,MAAKH,SAAA,EAClBC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,8BAAYC,EAAAA,EAAAA,KAAA,UACnBA,EAAAA,EAAAA,KAACW,EAAAA,EAAS,CACR,sBACA1G,KAAK,gBACLC,MAAOV,EAAMI,cACbgH,QAAS,CACPC,QAAQ,EACRC,gBAAiB,IAEnBJ,SAAUK,IAAA,IAAE/B,GAAK+B,EAAA,OAAKtH,GAASW,IAAS,IAAUA,EAAWR,cAAeqB,EAAW+D,MAAS,EAChGkB,UAAU,qBAIdL,EAAAA,EAAAA,MAAA,OAAKK,UAAU,MAAKH,SAAA,EAClBC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,8BAAYC,EAAAA,EAAAA,KAAA,UACnBA,EAAAA,EAAAA,KAACW,EAAAA,EAAS,CACR,sBACA,wBACA1G,KAAK,cACLC,MAAOV,EAAMK,YACb+G,QAAS,CACPC,QAAQ,EACRC,gBAAiB,IAEnBJ,SAAUM,IAAA,IAAEhC,GAAKgC,EAAA,OAAKvH,GAASW,IAAS,IAAUA,EAAWP,YAAamF,EAAKiC,iBAAiB,EAChGf,UAAU,2BAMlBL,EAAAA,EAAAA,MAAA,OAAKK,UAAU,eAAcH,SAAA,EAC3BF,EAAAA,EAAAA,MAAA,UAAQK,UAAU,oBAAoBG,QAAS/F,EAAUyF,SAAA,EAACC,EAAAA,EAAAA,KAACkB,EAAAA,IAAa,IAAG,oBAC3ErB,EAAAA,EAAAA,MAAA,UAAQK,UAAU,iBAAiBG,QAAS/E,EAAgByE,SAAA,EAACC,EAAAA,EAAAA,KAACmB,EAAAA,IAAQ,IAAG,8BAMjFnB,EAAAA,EAAAA,KAAA,OAAKC,IAAK1B,EAAa2B,UAAU,aAAarE,GAAG,2BAA2B,mBAAiB,SAAS,mBAAiB,OAAOsE,SAAS,KAAK,kBAAgB,sBAAsB,cAAY,OAAMJ,UAClMC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,eAAcH,UAC3BF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,gBAAeH,SAAA,EAC5BF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,eAAcH,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,MAAIE,UAAU,mBAAmBrE,GAAG,sBAAqBkE,SAAC,8BAC1DC,EAAAA,EAAAA,KAAA,UAAQI,KAAK,SAASF,UAAU,YAAY,aAAW,QAAQG,QAASpC,QAE1E4B,EAAAA,EAAAA,MAAA,OAAKK,UAAU,aAAYH,SAAA,EACzBC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,WAAUH,UACvBF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,MAAKH,SAAA,EAClBC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,kBACPC,EAAAA,EAAAA,KAAA,SAAOI,KAAK,OAAOnG,KAAK,gBAAgBC,MAAOV,EAAME,cAAegH,SAAU5G,EAAaoG,UAAU,uBAIzGF,EAAAA,EAAAA,KAAA,OAAKE,UAAU,WAAUH,UACvBF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,MAAKH,SAAA,EAClBC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,kBACPC,EAAAA,EAAAA,KAAA,YAAU/F,KAAK,kBAAkBC,MAAOV,EAAMG,gBAC5C+G,SAAU5G,EACVoG,UAAU,wCAIhBL,EAAAA,EAAAA,MAAA,OAAKK,UAAU,WAAUH,SAAA,EACvBF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,MAAKH,SAAA,EAClBC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,8BACPC,EAAAA,EAAAA,KAACW,EAAAA,EAAS,CACR,sBACA,wBACA1G,KAAK,gBACLC,MAAOV,EAAMI,cACbgH,QAAS,CACPC,QAAQ,EACRC,gBAAiB,IAEnBM,QAASC,IAAA,IAAErC,GAAKqC,EAAA,OAAK5H,GAASW,IAAS,IAAUA,EAAWR,cAAeqB,EAAW+D,MAAS,EAC/FkB,UAAU,qBAIdL,EAAAA,EAAAA,MAAA,OAAKK,UAAU,MAAKH,SAAA,EAClBC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,8BACPC,EAAAA,EAAAA,KAACW,EAAAA,EAAS,CACR,sBACA,wBACA1G,KAAK,cACL2G,QAAS,CACPC,QAAQ,EACRC,gBAAiB,IAEnB5G,MAAOV,EAAMK,YACb6G,SAAUY,IAAA,IAAEtC,GAAKsC,EAAA,OAAK7H,GAASW,IAAS,IAAUA,EAAWP,YAAaoB,EAAW+D,MAAS,EAC9FkB,UAAU,2BAKlBL,EAAAA,EAAAA,MAAA,OAAKK,UAAU,eAAcH,SAAA,EAC3BF,EAAAA,EAAAA,MAAA,UAAQO,KAAK,SAASF,UAAU,eAAeG,QAAStC,EAAagC,SAAA,EAACC,EAAAA,EAAAA,KAACkB,EAAAA,IAAa,IAAG,oBACvFrB,EAAAA,EAAAA,MAAA,UAAQO,KAAK,SAASF,UAAU,iBAAiBG,QAASpC,EAAe8B,SAAA,EAACC,EAAAA,EAAAA,KAACmB,EAAAA,IAAQ,IAAG,+BAK7F,C","sources":["components/intergrated/Calendar/EmpCalendar.js"],"sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { useRecoilState } from 'recoil';\r\nimport { loginIdState } from \"../../utils/RecoilData\";\r\nimport { Calendar as FullCalendar } from '@fullcalendar/core';\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\nimport dayGridPlugin from '@fullcalendar/daygrid';\r\nimport axios from \"../../utils/CustomAxios\";\r\nimport { MdCancel } from \"react-icons/md\";\r\nimport { IoSaveOutline } from \"react-icons/io5\";\r\nimport { Modal } from \"bootstrap\";\r\n\r\nimport Flatpickr from \"react-flatpickr\";\r\nimport \"flatpickr/dist/flatpickr.min.css\";\r\nimport './EmpCalendar.css';\r\n\r\nconst EmpCalendar = () => {\r\n\r\n\r\n\r\n  //recoil\r\n  const [loginId, setLoginId] = useRecoilState(loginIdState);\r\n\r\n  const calendarRef = useRef(null);\r\n  const [events, setEvents] = useState([]);\r\n  const [selectedEvent, setSelectedEvent] = useState(null);\r\n\r\n  const [input, setInput] = useState({\r\n    calendarTitle: \"\",\r\n    calendarContent: \"\",\r\n    calendarStart: \"\",\r\n    calendarEnd: \"\",\r\n  });\r\n\r\n  const changeInput = useCallback((e) => {\r\n    const { name, value } = e.target;\r\n    setInput((prevInput) => ({\r\n      ...prevInput,\r\n      [name]: value,\r\n    }));\r\n  }, []);\r\n\r\n  //입력값 초기화\r\n  const clearInput = useCallback(() => {\r\n    setInput({\r\n      calendarTitle: \"\",\r\n      calendarContent: \"\",\r\n      calendarStart: \"\",\r\n      calendarEnd: \"\",\r\n    })\r\n  }, [input]);\r\n\r\n  //신규등록\r\n  const saveInput = useCallback(async () => {\r\n    const token = axios.defaults.headers.common['Authorization'];\r\n    if (!token) return;\r\n\r\n    if (input.calendarTitle.length > 33) {\r\n      window.alert(\"제목의 제한 글자수를 초과했습니다. 최대 33글자까지 입력 가능합니다.\");\r\n      return;\r\n    }\r\n\r\n    if (input.calendarContent.length > 300) {\r\n      window.alert(\"내용의 제한 글자수를 초과했습니다. 최대 300자까지 입력 가능합니다.\");\r\n      return;\r\n    }\r\n  \r\n\r\n    const formattedInput = {\r\n      ...input,\r\n      calendarStart: formatDate(new Date(input.calendarStart)),\r\n      calendarEnd: formatDate(new Date(input.calendarEnd)),\r\n    };\r\n\r\n    const resp = await axios.post(\"/calendar/\", formattedInput, {\r\n      headers: {\r\n        Authorization: token\r\n      }\r\n    });\r\n    await loadCalendarEvents();\r\n    clearInput();\r\n    closeInputModal();\r\n  }, [input]);\r\n\r\n  useEffect(() => {\r\n    loadCalendarEvents();\r\n  }, []);\r\n\r\n  const loadCalendarEvents = useCallback(async () => {\r\n    const resp = await axios.get(\"/calendar/listByDept\");\r\n    // console.log(resp);\r\n    const calendarEvents = resp.data.map(event => ({\r\n      id: event.calendarNo.toString(),\r\n      title: `${event.empName} - ${event.calendarTitle}`,\r\n      start: event.calendarStart,\r\n      end: event.calendarEnd,\r\n      extendedProps: {\r\n        calendarNo: event.calendarNo,\r\n        title: event.calendarTitle,\r\n        start: event.calendarStart,\r\n        end: event.calendarEnd,\r\n        calendarWriter: event.calendarWriter,\r\n        empName: event.empName,\r\n        empGrade: event.empGrade,\r\n        calendarContent: event.calendarContent\r\n      }\r\n    }));\r\n    setEvents(calendarEvents);\r\n  }, [setEvents])\r\n\r\n\r\n  const openInfo = (clickInfo) => {\r\n    setSelectedEvent(clickInfo.event.extendedProps);\r\n    openInfoModal();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const calendar = new FullCalendar(calendarRef.current, {\r\n      plugins: [dayGridPlugin, interactionPlugin],\r\n      initialView: 'dayGridMonth',\r\n      // editable: true,\r\n      events: events,\r\n      selectable: true,\r\n      select: dateSelect,\r\n      eventClick: openInfo,\r\n      eventTimeFormat: {\r\n        hour: 'numeric',\r\n        meridiem: 'short'\r\n      },\r\n    });\r\n\r\n    calendar.render();\r\n\r\n    return () => {\r\n      calendar.destroy();\r\n    };\r\n  }, [events]);\r\n\r\n\r\n  //삭제하기\r\n  const deleteCalendar = useCallback(async (target) => {\r\n    const choice = window.confirm(\"ㄹㅇ 삭제?\");\r\n    if (choice === false) return;\r\n\r\n    const resp = await axios.delete(\"/calendar/\" + target.calendarNo);\r\n    loadCalendarEvents();\r\n    closeInfoModal();\r\n  }, [events])\r\n\r\n  //수정하기\r\n  const editCalendar = useCallback(async () => {\r\n    if (input.calendarTitle.length > 33) {\r\n      window.alert(\"제목의 제한 글자수를 초과했습니다. 최대 33글자까지 입력 가능합니다.\");\r\n      return;\r\n    }\r\n\r\n    if (input.calendarContent.length > 300) {\r\n      window.alert(\"내용의 제한 글자수를 초과했습니다. 최대 300자까지 입력 가능합니다.\");\r\n      return;\r\n    }\r\n    \r\n    const formattedInput = {\r\n      ...input,\r\n      calendarStart: formatDate(new Date(input.calendarStart)),\r\n      calendarEnd: formatDate(new Date(input.calendarEnd)),\r\n    };\r\n\r\n    const resp = await axios.patch(\"/calendar/\", formattedInput);\r\n    await loadCalendarEvents();\r\n    clearInput();\r\n    closeEditModal();\r\n    loadCalendarEvents();\r\n    // console.log(resp);\r\n    // openInfo(resp.data.calendarNo);\r\n  }, [input]);\r\n\r\n\r\n  //일정 상세 모달\r\n  const bsInfoModal = useRef();\r\n  const openInfoModal = useCallback(() => {\r\n    const modal = new Modal(bsInfoModal.current);\r\n    modal.show();\r\n  }, []);\r\n\r\n  const closeInfoModal = useCallback(() => {\r\n    const modal = Modal.getInstance(bsInfoModal.current);\r\n    modal.hide();\r\n  }, []);\r\n\r\n  //수정 모달\r\n  const bsEditModal = useRef();\r\n  const openEditModal = useCallback(() => {\r\n    if (selectedEvent) {\r\n      closeInfoModal();\r\n      setInput({\r\n        calendarNo: selectedEvent.calendarNo,\r\n        calendarWriter: selectedEvent.calendarWriter,\r\n        calendarTitle: selectedEvent.title,\r\n        calendarContent: selectedEvent.calendarContent,\r\n        calendarStart: selectedEvent.start,\r\n        calendarEnd: selectedEvent.end,\r\n      });\r\n      const modal = new Modal(bsEditModal.current);\r\n      modal.show();\r\n    }\r\n  }, [selectedEvent]);\r\n\r\n  const closeEditModal = useCallback(() => {\r\n    const modal = Modal.getInstance(bsEditModal.current);\r\n    clearInput();\r\n    modal.hide();\r\n  }, []);\r\n\r\n\r\n  //일정 등록 모달\r\n  const bsInputModal = useRef();\r\n  const openInputModal = useCallback(() => {\r\n    const modal = new Modal(bsInputModal.current);\r\n    modal.show();\r\n  }, []);\r\n\r\n  const closeInputModal = useCallback(() => {\r\n    const modal = Modal.getInstance(bsInputModal.current);\r\n    clearInput();\r\n    modal.hide();\r\n  }, []);\r\n\r\n  const dateSelect = useCallback((selectInfo) => {\r\n    const startDate = new Date(selectInfo.start);\r\n    const endDate = new Date(selectInfo.end - 1);\r\n\r\n    startDate.setHours(9, 0, 0, 0);\r\n    endDate.setHours(18, 0, 0, 0);\r\n\r\n\r\n    //입력 폼에 날짜 설정\r\n    setInput({\r\n      calendarTitle: \"\",\r\n      calendarContent: \"\",\r\n      calendarStart: formatDate(startDate),\r\n      calendarEnd: formatDate(endDate),\r\n    });\r\n\r\n    // 일정 등록 모달 열기\r\n    openInputModal();\r\n  }, [setInput, openInputModal]);\r\n\r\n  const formatDate = (date) => {\r\n    const year = date.getFullYear();\r\n    const month = String(date.getMonth() + 1).padStart(2, '0');\r\n    const day = String(date.getDate()).padStart(2, '0');\r\n    const hours = String(date.getHours()).padStart(2, '0');\r\n    const minutes = String(date.getMinutes()).padStart(2, '0');\r\n    return `${year}-${month}-${day} ${hours}:${minutes}`;\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <div ref={calendarRef} />\r\n      <div ref={bsInfoModal} className=\"modal fade\" id=\"staticBackdrop infoModal\" data-bs-backdrop=\"static\" data-bs-keyboard=\"true\" tabIndex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n        <div className=\"modal-dialog\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h1 className=\"modal-title fs-5\" id=\"staticBackdropLabel\">일정상세</h1>\r\n              <button type=\"button\" className=\"btn-close\" aria-label=\"Close\" onClick={closeInfoModal}></button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              {selectedEvent && (\r\n                <table className=\"table\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <td>작성자</td>\r\n                      <td>{selectedEvent.empName}({selectedEvent.empGrade})</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>제목</td>\r\n                      <td>{selectedEvent.title}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>내용</td>\r\n                      <td>\r\n                        <div dangerouslySetInnerHTML={{ __html: (selectedEvent.calendarContent || '').replace(/\\n/g, '<br />') }} />\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>시작일자</td>\r\n                      <td>{selectedEvent.start.substring(0, 16)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>종료일자</td>\r\n                      <td>{selectedEvent.end.substring(0, 16)}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              )}\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              {selectedEvent && selectedEvent.calendarWriter === loginId && (\r\n                <>\r\n                  <button className=\"btn btn-pink me-2\" onClick={openEditModal}>수정</button>\r\n                  <button className=\"btn btn-danger\" onClick={() => deleteCalendar(selectedEvent)}>삭제</button>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div ref={bsInputModal} className=\"modal fade\" id=\"staticBackdrop\" data-bs-backdrop=\"static\" data-bs-keyboard=\"true\" tabIndex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n        <div className=\"modal-dialog\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h1 className=\"modal-title fs-5\" id=\"staticBackdropLabel\">일정등록</h1>\r\n              <button type=\"button\" className=\"btn-close\" aria-label=\"Close\" onClick={closeInputModal}></button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <div className=\"row mt-4\">\r\n                <div className=\"col\">\r\n                  <label>제목</label>\r\n                  <input type=\"text\" name=\"calendarTitle\" value={input.calendarTitle} onChange={changeInput} className=\"form-control\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row mt-4\">\r\n                <div className=\"col\">\r\n                  <label>내용</label>\r\n                  <textarea name=\"calendarContent\" value={input.calendarContent}\r\n                    onChange={changeInput}\r\n                    className=\"form-control  custom-textarea\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row mt-4\">\r\n                <div className=\"col\">\r\n                  <label>시작일자</label><br />\r\n                  <Flatpickr\r\n                    data-enable-time\r\n                    name=\"calendarStart\"\r\n                    value={input.calendarStart}\r\n                    options={{\r\n                      static: true,\r\n                      minuteIncrement: 30,\r\n                    }}\r\n                    onChange={([date]) => setInput(prevInput => ({ ...prevInput, calendarStart: formatDate(date) }))}\r\n                    className=\"form-control\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"col\">\r\n                  <label>종료일자</label><br />\r\n                  <Flatpickr\r\n                    data-enable-time\r\n                    Keyboard-focusable\r\n                    name=\"calendarEnd\"\r\n                    value={input.calendarEnd}\r\n                    options={{\r\n                      static: true,\r\n                      minuteIncrement: 30,\r\n                    }}\r\n                    onChange={([date]) => setInput(prevInput => ({ ...prevInput, calendarEnd: date.toISOString() }))}\r\n                    className=\"form-control\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button className=\"btn btn-pink me-2\" onClick={saveInput}><IoSaveOutline /> 등록</button>\r\n              <button className=\"btn btn-danger\" onClick={closeInputModal}><MdCancel /> 취소</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div ref={bsEditModal} className=\"modal fade\" id=\"staticBackdrop editModal\" data-bs-backdrop=\"static\" data-bs-keyboard=\"true\" tabIndex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n        <div className=\"modal-dialog\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h1 className=\"modal-title fs-5\" id=\"staticBackdropLabel\">일정수정</h1>\r\n              <button type=\"button\" className=\"btn-close\" aria-label=\"Close\" onClick={closeEditModal}></button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <div className=\"row mt-4\">\r\n                <div className=\"col\">\r\n                  <label>제목</label>\r\n                  <input type=\"text\" name=\"calendarTitle\" value={input.calendarTitle} onChange={changeInput} className=\"form-control\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row mt-4\">\r\n                <div className=\"col\">\r\n                  <label>내용</label>\r\n                  <textarea name=\"calendarContent\" value={input.calendarContent}\r\n                    onChange={changeInput}\r\n                    className=\"form-control  custom-textarea\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row mt-4\">\r\n                <div className=\"col\">\r\n                  <label>시작일자</label>\r\n                  <Flatpickr\r\n                    data-enable-time\r\n                    data-enable-minute\r\n                    name=\"calendarStart\"\r\n                    value={input.calendarStart}\r\n                    options={{\r\n                      static: true,\r\n                      minuteIncrement: 30,\r\n                    }}\r\n                    nChange={([date]) => setInput(prevInput => ({ ...prevInput, calendarStart: formatDate(date) }))}\r\n                    className=\"form-control\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"col\">\r\n                  <label>종료일자</label>\r\n                  <Flatpickr\r\n                    data-enable-time\r\n                    data-enable-minute\r\n                    name=\"calendarEnd\"\r\n                    options={{\r\n                      static: true,\r\n                      minuteIncrement: 30,\r\n                    }}\r\n                    value={input.calendarEnd}\r\n                    onChange={([date]) => setInput(prevInput => ({ ...prevInput, calendarEnd: formatDate(date) }))}\r\n                    className=\"form-control\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button type=\"button\" className=\"btn btn-pink\" onClick={editCalendar}><IoSaveOutline /> 수정</button>\r\n              <button type=\"button\" className=\"btn btn-danger\" onClick={closeEditModal}><MdCancel /> 취소</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\nexport default EmpCalendar;"],"names":["EmpCalendar","loginId","setLoginId","useRecoilState","loginIdState","calendarRef","useRef","events","setEvents","useState","selectedEvent","setSelectedEvent","input","setInput","calendarTitle","calendarContent","calendarStart","calendarEnd","changeInput","useCallback","e","name","value","target","prevInput","clearInput","saveInput","async","token","axios","defaults","headers","common","length","window","alert","formattedInput","formatDate","Date","post","Authorization","loadCalendarEvents","closeInputModal","useEffect","calendarEvents","get","data","map","event","id","calendarNo","toString","title","concat","empName","start","end","extendedProps","calendarWriter","empGrade","openInfo","clickInfo","openInfoModal","calendar","FullCalendar","current","plugins","dayGridPlugin","interactionPlugin","initialView","selectable","select","dateSelect","eventClick","eventTimeFormat","hour","meridiem","render","destroy","deleteCalendar","confirm","delete","closeInfoModal","editCalendar","patch","closeEditModal","bsInfoModal","Modal","show","getInstance","hide","bsEditModal","openEditModal","modal","bsInputModal","openInputModal","selectInfo","startDate","endDate","setHours","date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","_jsxs","_Fragment","children","_jsx","ref","className","tabIndex","type","onClick","dangerouslySetInnerHTML","__html","replace","substring","onChange","Flatpickr","options","static","minuteIncrement","_ref","_ref2","toISOString","IoSaveOutline","MdCancel","nChange","_ref3","_ref4"],"sourceRoot":""}