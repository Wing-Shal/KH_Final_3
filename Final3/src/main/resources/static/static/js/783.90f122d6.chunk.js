"use strict";(self.webpackChunkfinal3=self.webpackChunkfinal3||[]).push([[783],{6561:(e,a,s)=>{s.d(a,{A:()=>t});var l=s(579);const t=function(e){return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col",children:(0,l.jsxs)("div",{style:{backgroundColor:"#FFC0CB"},className:"p-4 text-light rounded",children:[(0,l.jsx)("h1",{children:e.title}),(0,l.jsx)("p",{children:e.content})]})})})})}},783:(e,a,s)=>{s.r(a),s.d(a,{default:()=>x});var l=s(5043),t=s(7580),c=s(3156),n=s(423),r=s(2639),d=s(8839),i=s(6561),o=s(3536),m=s(579);const x=()=>{const[e,a]=(0,l.useState)([]),[s,x]=(0,l.useState)([]),[h,j]=(0,l.useState)([]),[u,p]=(0,l.useState)({}),[N,b]=(0,l.useState)(1),[v,f]=(0,l.useState)(15),[y,C]=(0,l.useState)(0),[g,w]=(0,l.useState)(!1),[k,E]=(0,l.useState)(""),S=(0,l.useRef)(!1),A=(0,l.useCallback)((async()=>{const e=k?"?search=".concat(k):"",s=await t.A.get("/company/emp/page/".concat(N,"/size/").concat(v).concat(e));C(s.data.count),w(s.data.last),a(N>1?e=>[...e,...s.data.list]:s.data.list)}),[N,v,k]);(0,l.useEffect)((()=>{(async()=>{const e=await t.A.get("/company/gradeList");j(e.data);const a=await t.A.get("/company/deptList");x(a.data)})()}),[]),(0,l.useEffect)((()=>{S.current=!0,A(),S.current=!1}),[N]);const F=(0,l.useCallback)((0,o.throttle)((e=>{if(S.current||g)return;const a=document.documentElement.scrollHeight-window.innerHeight,s=window.scrollY;!1===g&&s/a*100>=80&&b((e=>e+1))}),750),[g,S.current]);(0,l.useEffect)((()=>{if(!0!==S.current)return window.addEventListener("scroll",F),()=>{window.removeEventListener("scroll",F)}}),[F]);const L=(0,l.useCallback)((e=>{p({...u,[e.target.name]:e.target.value})}),[u]),O=(0,l.useCallback)((()=>{p({companyNo:"",empNo:"",empName:"",deptName:"",gradeName:"",empContact:"",empEmail:"",empStatus:"",empJoin:"",empExit:""})}),[u]),B=(0,l.useCallback)((async()=>{await t.A.patch("/company/emp",u);S.current=!0,A(),S.current=!1,O(),Y()}),[u]),J=(0,l.useCallback)((()=>{O(),Y()}),[u]),z=(0,l.useCallback)((async()=>{E(""),b(1);const e=await t.A.get("/company/emp/page/".concat(N,"/size/").concat(v));a(e.data.list),C(e.data.count),w(e.data.last)}),[A]),H=(0,l.useCallback)((()=>{b(1),A()}),[A]),I=(0,l.useCallback)((e=>{E(e.target.value)}),[]),R=(0,l.useRef)(),V=(0,l.useCallback)((e=>{const a=new d.aF(R.current);p(e),a.show()}),[R]),Y=(0,l.useCallback)((()=>{d.aF.getInstance(R.current).hide()}),[R]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.A,{title:"\uc0ac\uc6d0 \ubaa9\ub85d/\uad00\ub9ac"}),(0,m.jsx)("div",{className:"row mt-4",children:(0,m.jsx)("div",{className:"col-6 offset-3",children:(0,m.jsxs)("div",{className:"input-group",children:[(0,m.jsx)("input",{type:"text",className:"form-control search-bar",placeholder:"\uac80\uc0c9...",value:k,onChange:I}),(0,m.jsx)("button",{onClick:z,className:"btn btn-secondary",children:(0,m.jsx)(c.V2x,{})}),(0,m.jsx)("button",{onClick:H,className:"btn btn-primary",children:"\uac80\uc0c9"})]})})}),(0,m.jsx)("div",{className:"row mt-4",children:(0,m.jsx)("div",{className:"col",children:(0,m.jsxs)("table",{className:"table",children:[(0,m.jsx)("thead",{className:"text-center",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"\uc0ac\ubc88"}),(0,m.jsx)("th",{children:"\uc774\ub984"}),(0,m.jsx)("th",{children:"\ubd80\uc11c"}),(0,m.jsx)("th",{children:"\uc9c1\uae09"}),(0,m.jsx)("th",{children:"\uc804\ud654\ubc88\ud638"}),(0,m.jsx)("th",{children:"\uc774\uba54\uc77c"}),(0,m.jsx)("th",{children:"\uad00\ub9ac"})]})}),(0,m.jsx)("tbody",{className:"text-center",children:e.map((e=>(0,m.jsxs)("tr",{className:"align-items-center",children:[(0,m.jsx)("td",{children:e.empNo}),(0,m.jsx)("td",{children:e.empName}),(0,m.jsx)("td",{children:e.deptName}),(0,m.jsx)("td",{children:e.gradeName}),(0,m.jsx)("td",{children:e.empContact}),(0,m.jsx)("td",{children:e.empEmail}),(0,m.jsx)("td",{children:(0,m.jsx)(c.Jcp,{className:"text-warning me-2 pointer",onClick:()=>V(e)})})]},e.empNo)))})]})})}),(0,m.jsx)("div",{ref:R,className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,m.jsx)("div",{className:"modal-dialog",children:(0,m.jsxs)("div",{className:"modal-content",children:[(0,m.jsxs)("div",{className:"modal-header",children:[(0,m.jsx)("h1",{className:"modal-title fs-5",id:"staticBackdropLabel",children:"\uc0ac\uc6d0 \uc815\ubcf4 \uc218\uc815"}),(0,m.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:e=>J()})]}),(0,m.jsxs)("div",{className:"modal-body",children:[(0,m.jsx)("div",{className:"row mt-4",children:(0,m.jsxs)("div",{className:"col",children:[(0,m.jsx)("label",{children:"\uc0ac\ubc88"}),(0,m.jsx)("input",{type:"text",name:"empNo",value:u.empNo,readOnly:!0,className:"form-control"})]})}),(0,m.jsx)("div",{className:"row mt-4",children:(0,m.jsxs)("div",{className:"col",children:[(0,m.jsx)("label",{children:"\uc774\ub984"}),(0,m.jsx)("input",{type:"text",name:"empName",value:u.empName,readOnly:!0,className:"form-control"})]})}),(0,m.jsx)("div",{className:"row mt-4",children:(0,m.jsxs)("div",{className:"col",children:[(0,m.jsx)("label",{children:"\ubd80\uc11c"}),(0,m.jsxs)("select",{name:"deptName",value:u.deptName,onChange:e=>L(e),className:"form-control",children:[(0,m.jsx)("option",{value:"",children:"\ubd80\uc11c \uc120\ud0dd"}),s.map((e=>(0,m.jsx)("option",{value:e,children:e})))]})]})}),(0,m.jsx)("div",{className:"row mt-4",children:(0,m.jsxs)("div",{className:"col",children:[(0,m.jsx)("label",{children:"\uc9c1\uae09"}),(0,m.jsxs)("select",{name:"gradeName",value:u.gradeName,onChange:e=>L(e),className:"form-control",children:[(0,m.jsx)("option",{value:"",children:"\uc9c1\uae09 \uc120\ud0dd"}),h.map((e=>(0,m.jsx)("option",{value:e,children:e})))]})]})}),(0,m.jsx)("div",{className:"row mt-4",children:(0,m.jsxs)("div",{className:"col",children:[(0,m.jsx)("label",{children:"\uc804\ud654\ubc88\ud638"}),(0,m.jsx)("input",{type:"text",name:"empContact",value:u.empContact,readOnly:!0,className:"form-control"})]})}),(0,m.jsx)("div",{className:"row mt-4",children:(0,m.jsxs)("div",{className:"col",children:[(0,m.jsx)("label",{children:"\uc774\uba54\uc77c"}),(0,m.jsx)("input",{type:"text",name:"empEmail",value:u.empEmail,readOnly:!0,className:"form-control"})]})}),(0,m.jsx)("div",{className:"row mt-4",children:(0,m.jsxs)("div",{className:"col",children:[(0,m.jsx)("label",{children:"\uc785\uc0ac\uc77c"}),(0,m.jsx)("input",{type:"text",name:"empJoin",value:u.empJoin,readOnly:!0,className:"form-control"})]})}),(0,m.jsx)("div",{className:"row mt-4",children:(0,m.jsxs)("div",{className:"col",children:[(0,m.jsx)("label",{children:"\ud1f4\uc0ac\uc77c"}),(0,m.jsx)("input",{type:"text",name:"empExit",value:u.empExit,readOnly:!0,className:"form-control"})]})})]}),(0,m.jsxs)("div",{className:"modal-footer",children:[(0,m.jsxs)("button",{className:"btn btn-danger",onClick:e=>J(),children:[(0,m.jsx)(r.r8o,{}),"\xa0 \ucde8\uc18c"]}),(0,m.jsxs)("button",{className:"btn btn-success me-2",onClick:e=>B(),children:[(0,m.jsx)(n.Ffy,{}),"\xa0 \uc800\uc7a5"]})]})]})})})]})}}}]);
//# sourceMappingURL=783.90f122d6.chunk.js.map